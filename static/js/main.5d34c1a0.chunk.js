(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n,o=c(0),r=c(25),a=c.n(r),l=c(13),i=(c(30),c(31),c(32),c(11)),s=c(7),u=c(5),d=c(2),j=c(22),b=c.n(j),f=c(3),m=function(e){var t=e.todo,c=e.toggleCompleted,n=e.removeTodo,r=e.renameTodo,a=t.id,l=t.title,i=t.completed,s=Object(o.useState)(!1),d=Object(u.a)(s,2),j=d[0],m=d[1],O=Object(o.useState)(l),p=Object(u.a)(O,2),h=p[0],x=p[1],v=Object(o.useRef)(null),g=function(){if(h.length||h.trim())return n(a),void m(!1);r(a,h),m(!1)};return Object(o.useEffect)((function(){v.current&&v.current.focus()})),Object(f.jsxs)("li",{className:b()({completed:i},{editing:j}),children:[Object(f.jsxs)("div",{className:"view",children:[Object(f.jsx)("input",{type:"checkbox",className:"toggle",id:"toggle-view",checked:i,onChange:function(){c(a)}}),Object(f.jsx)("label",{onDoubleClick:function(){m(!0)},children:h}),Object(f.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo","aria-label":"button",onClick:function(){return n(t.id)}})]}),Object(f.jsx)("input",{type:"text",className:"edit",value:h,ref:v,onChange:function(e){x(e.target.value)},onKeyDown:function(e){"Enter"!==e.key?"Escape"===e.key&&(x(t.title),m(!1)):g()},onBlur:g})]})},O=function(e){var t=e.todos,c=e.toggleCompleted,n=e.removeTodo,o=e.renameTodo;return Object(f.jsx)("ul",{className:"todo-list","data-cy":"todoList",children:t.map((function(e){return Object(f.jsx)(m,{todo:e,toggleCompleted:c,removeTodo:n,renameTodo:o},e.id)}))})},p=function(e){var t=e.addTodo,c=Object(o.useState)(""),n=Object(u.a)(c,2),r=n[0],a=n[1],l=Object(o.useRef)(null);return Object(o.useEffect)((function(){l.current&&l.current.focus()}),[]),Object(f.jsxs)("header",{className:"header",children:[Object(f.jsx)("h1",{children:"todos"}),Object(f.jsx)("form",{onSubmit:function(e){e.preventDefault(),r.trim()&&(t(r),a(""))},children:Object(f.jsx)("input",{type:"text","data-cy":"createTodo",className:"new-todo",ref:l,placeholder:"What needs to be done?",value:r,onChange:function(e){a(e.target.value)}})})]})},h=function(e){var t=e.to,c=e.text;return Object(f.jsx)(l.b,{to:t,className:function(e){var t=e.isActive;return b()({selected:t})},children:c})},x=function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("ul",{className:"filters",children:[Object(f.jsx)("li",{children:Object(f.jsx)(h,{to:"/",text:"All"})}),Object(f.jsx)("li",{children:Object(f.jsx)(h,{to:"active",text:"Active"})}),Object(f.jsx)("li",{children:Object(f.jsx)(h,{to:"completed",text:"Completed"})})]})})},v=function(e){var t=e.todos,c=e.clearCompleted,n=Object(o.useMemo)((function(){return t.filter((function(e){return!e.completed})).length}),[t]),r=Object(o.useMemo)((function(){return t.filter((function(e){return e.completed})).length}),[t]);return Object(f.jsxs)("footer",{className:"footer",children:[Object(f.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(n," items left")}),Object(f.jsx)(x,{}),!!r&&Object(f.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){return c()},children:"Clear completed"})]})};!function(e){e.all="all",e.active="active",e.completed="completed"}(n||(n={}));var g=function(){var e=function(e,t){var c=Object(o.useState)((function(){try{var c=localStorage.getItem(e);return c?JSON.parse(c):t}catch(n){return t}})),n=Object(u.a)(c,2),r=n[0],a=n[1];return[r,function(t){a(t),localStorage.setItem(e,JSON.stringify(t))}]}("todos",[]),t=Object(u.a)(e,2),c=t[0],r=t[1],a=Object(d.i)(),l=Object(o.useMemo)((function(){return c.filter((function(e){switch(a.pathname.slice(1)){case n.active:return!e.completed;case n.completed:return e.completed;case n.all:default:return e}}))}),[c,a]),j=Object(o.useCallback)((function(e){var t=c.filter((function(t){return t.id!==e}));r(t)}),[c]);return Object(f.jsxs)("div",{className:"todoapp",children:[Object(f.jsx)(p,{addTodo:function(e){var t={id:+new Date,title:e,completed:!1};r([].concat(Object(s.a)(c),[t]))}}),Object(f.jsxs)("section",{className:"main",children:[Object(f.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:c.every((function(e){return e.completed})),onChange:function(){var e=c.every((function(e){return e.completed})),t=c.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{completed:!e})}));r(t)}}),Object(f.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(f.jsx)(O,{toggleCompleted:function(e){var t=c.map((function(t){return t.id===e?Object(i.a)(Object(i.a)({},t),{},{completed:!t.completed}):t}));r(t)},todos:l,removeTodo:j,renameTodo:function(e,t){r(c.map((function(c){return c.id!==e?c:Object(i.a)(Object(i.a)({},c),{},{title:t})})))}})]}),!!c.length&&Object(f.jsx)(v,{todos:c,clearCompleted:function(){var e=c.filter((function(e){return!e.completed}));r(e)}})]})};a.a.render(Object(f.jsx)(l.a,{children:Object(f.jsx)(g,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.5d34c1a0.chunk.js.map